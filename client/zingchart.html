<html>
<head>
<meta charset="utf-8">
<title>Hello ZingChart World</title>
<script src="http://cdn.zingchart.com/zingchart.min.js"></script>
<!--script src="js/zingchart/nodejs/zingchart-nodejs.min.js"></script-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
var chartData={
  type: "line", 
  refresh:{
    type:"feed",
    transport:"js",
    url:"feed()",
    interval:2000
  },
  title: {
    text: "Data from Mock Service"
  },
  scaleX : {
      lineWidth : 1,
      guide : {
          visible : true
      },
      tick : {
          lineWidth : 1
      },
      step : "INTERVAL",
      //minValue : (new Date()).getTime(),
      transform : {
          type : 'date',
		  //all  : '%D, %d %M %Y<br>%h:%i %A',
		  //all  : '%G:%i:%s',
          text : '%G:%i:%s',
		  //uniform: false,
          item : {
              visible : false
          }
      }
  },
  series: [
    {
        values: [0],
        scales:"scale-x,scale-y"
    },
    {
        values: [0],
        scales:"scale-x,scale-y"
    }
    ]
};
window.feed = function(callback) {
	$.getJSON("/curves/curvelist/1", function(data) {
		//var parsed=$.parseJSON(data);
		var tick = {};		
		//var n=(new Date()).getTime();
		tick.plot0 = [data[0].time, data[0].curves[0].value];
		tick.plot1 = [data[0].time, data[0].curves[1].value];
<<<<<<< HEAD
		//tick.plot2 = [data[0].time, data[0].curves[2].value];
=======
>>>>>>> 9c6a3fa4ba70870667f73874934c417e96ed169c
		console.log(tick);
		callback(JSON.stringify(tick));
	} );
};
window.onload=function(){
  zingchart.render({
    id:"chartDiv",
    height:400,
    width:"100%",
    data:chartData
  });
};

</script>
</head>
<body>
<div id="chartDiv"></div>
<button onclick="zingchart.exec('chartDiv', 'startfeed');">Start</button>
<button onclick="zingchart.exec('chartDiv', 'stopfeed');">Stop</button>
</body>
</html>